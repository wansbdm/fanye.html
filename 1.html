<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>暖暖的衣橱</title>
<style>
  body, html {
    height: 100%;
    margin: 0;
    font-family: Arial, sans-serif;
    overflow: hidden; /* 防止内容水平滚动 */
  }
  #slideshow-container {
    position: relative;
    width: 100%;
    height: 300%; /* 根据页数调整高度 */
    transition: transform 0.5s ease-in-out; /* 平滑过渡效果 */
  }
  .slide {
    position: absolute;
    width: 100%;
    height: 33.33%; /* 每页占容器高度的三分之一 */
    display: flex;
    align-items: center;
    justify-content: center;
  }
  /* 设置每一页的背景色和图片 */
  .slide:nth-child(1) {
    background-color: #FFC0CB; /* 淡粉色 */
    background-image: url('暖暖1.png'); /* 替换为你的图片URL */
    background-size: cover;
    background-position: center;
  }
  .slide:nth-child(2) {
    background-color: #87CEEB; /* 马卡龙蓝色 */
    background-image: url('暖暖3.png'); /* 替换为你的图片URL */
    background-size: cover;
    background-position: center;
  }
  .slide:nth-child(3) {
    background-color: #90EE90; /* 淡淡绿色 */
    background-image: url('暖暖2.png'); /* 替换为你的图片URL */
    background-size: cover;
    background-position: center;
  }
</style>
</head>
<body>

<div id="slideshow-container">
  <!-- Slides will be added here by JavaScript -->
</div>

<script>
  // 定义每页的背景颜色和图片
  const slides = [
    { backgroundColor: '#FFC0CB', imageUrl: '暖暖1.png' },
    { backgroundColor: '#87CEEB', imageUrl: '暖暖3.png' },
    { backgroundColor: '#90EE90', imageUrl: '暖暖2.png' }
  ];

  // 创建单个幻灯片的函数
  function createSlide(slideInfo) {
    const slide = document.createElement('div');
    slide.className = 'slide';
    slide.style.backgroundColor = slideInfo.backgroundColor;
    slide.style.backgroundImage = `url(${slideInfo.imageUrl})`;
    return slide;
  }

  // 初始化幻灯片
  function initSlides() {
    const container = document.getElementById('slideshow-container');
    slides.forEach(slideInfo => {
      const slide = createSlide(slideInfo);
      container.appendChild(slide);
    });
  }

  // 初始化幻灯片
  initSlides();

  let startY, isTouching = false;

  // 触摸开始事件
  document.getElementById('slideshow-container').addEventListener('touchstart', function(e) {
    isTouching = true;
    startY = e.touches[0].clientY;
  });

  // 触摸移动事件
  document.getElementById('slideshow-container').addEventListener('touchmove', function(e) {
    if (!isTouching) return;
    const endY = e.touches[0].clientY;
    const diff = startY - endY; // 向上滑动为正，向下滑动为负
    this.style.transform = `translateY(${-diff}px)`;
    e.preventDefault(); // 阻止默认滚动行为
  });

  // 触摸结束事件
  document.getElementById('slideshow-container').addEventListener('touchend', function() {
    isTouching = false;
    if (Math.abs(startY - event.changedTouches[0].clientY) > 150) { // 判断滑动距离
      const diff = startY - event.changedTouches[0].clientY;
      if (diff > 150) { // 向下滑动
        const currentIndex = Math.floor(this.getBoundingClientRect().top / (window.innerHeight * 0.333)) + 1;
        if (currentIndex < slides.length) {
          this.style.transition = 'transform 0.5s ease-in-out';
          this.style.transform = `translateY(-${window.innerHeight * 0.333 * currentIndex}px)`;
        }
      } else { // 向上滑动
        const currentIndex = Math.ceil(this.getBoundingClientRect().top / (window.innerHeight * 0.333)) - 1;
        if (currentIndex > 0) {
          this.style.transition = 'transform 0.5s ease-in-out';
          this.style.transform = `translateY(-${window.innerHeight * 0.333 * currentIndex}px)`;
        }
      }
    } else {
      this.style.transition = 'transform 0.5s ease-in-out';
      this.style.transform = `translateY(0)`;
    }
  });
</script>

</body>
</html>
